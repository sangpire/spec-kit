---
description: 대화식 또는 제공된 원칙 입력으로부터 프로젝트 헌장을 작성하거나 업데이트하여 모든 의존 템플릿이 동기화 상태를 유지하도록 합니다.
handoffs: 
  - label: 명세서 작성
    agent: speckit.specify
    prompt: 업데이트된 헌장을 기반으로 기능 명세서를 구현합니다. 나는 다음을 구축하고 싶습니다...
---

## 사용자 입력

```text
$ARGUMENTS
```

진행하기 전에 사용자 입력을 **반드시** 고려해야 합니다 (비어있지 않은 경우).

## 개요

`/memory/constitution.md`에서 프로젝트 헌장을 업데이트하고 있습니다. 이 파일은 대괄호 안에 플레이스홀더 토큰이 포함된 템플릿입니다 (예: `[PROJECT_NAME]`, `[PRINCIPLE_1_NAME]`). 귀하의 작업은 (a) 구체적인 값을 수집/도출하고, (b) 템플릿을 정확하게 채우고, (c) 의존 산출물에 개정 사항을 전파하는 것입니다.

다음 실행 흐름을 따르세요:

1. `/memory/constitution.md`에서 기존 헌장 템플릿을 로드합니다.
   - `[ALL_CAPS_IDENTIFIER]` 형식의 모든 플레이스홀더 토큰을 식별합니다.
   **중요**: 사용자는 템플릿에 사용된 것보다 적거나 많은 원칙을 요구할 수 있습니다. 숫자가 지정되면 존중하세요 - 일반 템플릿을 따르세요. 그에 따라 문서를 업데이트합니다.

2. 플레이스홀더에 대한 값 수집/도출:
   - 사용자 입력(대화)이 값을 제공하면 사용
   - 그렇지 않으면 기존 저장소 컨텍스트에서 추론 (README, 문서, 이전 헌장 버전)
   - 거버넌스 날짜: `RATIFICATION_DATE`는 원래 채택 날짜 (알 수 없으면 질문 또는 TODO 표시), `LAST_AMENDED_DATE`는 변경이 이루어진 경우 오늘, 그렇지 않으면 이전 날짜 유지
   - `CONSTITUTION_VERSION`은 시맨틱 버전 관리 규칙에 따라 증가해야 함:
     - MAJOR: 거버넌스/원칙 제거 또는 재정의와 호환되지 않음
     - MINOR: 새 원칙/섹션 추가 또는 가이던스 크게 확장
     - PATCH: 명확화, 표현, 오타 수정, 비의미론적 개선
   - 버전 범프 유형이 모호한 경우 최종화 전에 추론 제안

3. 업데이트된 헌장 내용 초안 작성:
   - 모든 플레이스홀더를 구체적인 텍스트로 교체 (프로젝트가 아직 정의하지 않기로 선택한 의도적으로 유지된 템플릿 슬롯을 제외하고 대괄호 토큰이 남지 않음—남은 것은 명시적으로 정당화)
   - 제목 계층 보존 및 주석은 교체되면 제거 가능 (명확한 가이던스를 추가하지 않는 한)
   - 각 원칙 섹션 확인: 간결한 이름 줄, 협상 불가능한 규칙을 캡처하는 단락 (또는 글머리 기호 목록), 명확하지 않은 경우 명시적 근거

4. 일관성 전파 체크리스트 (이전 체크리스트를 활성 검증으로 변환):
   - `/templates/plan-template.md` 읽기 및 "헌장 검증" 또는 규칙이 업데이트된 원칙과 일치하는지 확인
   - 범위/요구사항 정렬을 위한 `/templates/spec-template.md` 읽기—헌장이 필수 섹션 또는 제약조건을 추가/제거하는 경우 업데이트
   - `/templates/tasks-template.md` 읽기 및 작업 분류가 새로운 또는 제거된 원칙 기반 작업 유형을 반영하는지 확인
   - `/templates/commands/*.md`의 각 명령 파일 읽기 및 일반 가이던스가 필요할 때 오래된 참조가 남아있지 않은지 확인

5. 동기화 영향 보고서 생성 (업데이트 후 헌장 파일 상단에 HTML 주석으로 추가):
   - 버전 변경: 이전 → 새로운
   - 수정된 원칙 목록 (이름이 변경된 경우 이전 제목 → 새 제목)
   - 추가된 섹션
   - 제거된 섹션
   - 업데이트가 필요한 템플릿 (✅ 업데이트됨 / ⚠ 보류 중) 파일 경로 포함

6. 최종 출력 전 검증:
   - 설명되지 않은 대괄호 토큰이 남아있지 않음
   - 버전 줄이 보고서와 일치
   - 날짜 ISO 형식 YYYY-MM-DD
   - 원칙이 선언적이고 테스트 가능하며 모호한 언어가 없음

7. 완료된 헌장을 `/memory/constitution.md`에 다시 작성 (덮어쓰기)

8. 사용자에게 최종 요약 출력:
   - 새 버전 및 범프 근거
   - 수동 후속 조치가 플래그된 파일
   - 제안된 커밋 메시지
