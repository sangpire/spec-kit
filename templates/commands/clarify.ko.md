---
description: 현재 기능 명세서에서 명시되지 않은 영역을 식별하여 최대 5개의 고도로 타겟팅된 확인 질문을 하고 답변을 명세서에 다시 인코딩합니다.
handoffs: 
  - label: 기술 계획 수립
    agent: speckit.plan
    prompt: 명세서에 대한 계획을 작성합니다. 나는 다음으로 구축하고 있습니다...
scripts:
   sh: scripts/bash/check-prerequisites.sh --json --paths-only
   ps: scripts/powershell/check-prerequisites.ps1 -Json -PathsOnly
---

## 사용자 입력

```text
$ARGUMENTS
```

진행하기 전에 사용자 입력을 **반드시** 고려해야 합니다 (비어있지 않은 경우).

## 개요

목표: 활성 기능 명세서에서 모호성 또는 누락된 결정 지점을 감지하고 줄이며 확인된 내용을 명세서 파일에 직접 기록합니다.

참고: 이 확인 워크플로우는 `/speckit.plan` 호출 전에 실행(및 완료)될 것으로 예상됩니다. 사용자가 명시적으로 확인을 건너뛴다고 명시하는 경우 (예: 탐색적 스파이크), 진행할 수 있지만 다운스트림 재작업 위험이 증가한다고 경고해야 합니다.

실행 단계:

1. 저장소 루트에서 `{SCRIPT}`를 **한 번** 실행 (결합된 `--json --paths-only` 모드 / `-Json -PathsOnly`). 최소 JSON 페이로드 필드 파싱:
   - `FEATURE_DIR`
   - `FEATURE_SPEC`
   - (선택적으로 향후 연결된 흐름을 위해 `IMPL_PLAN`, `TASKS` 캡처)
   - JSON 파싱이 실패하면 중단하고 사용자에게 `/speckit.specify` 재실행 또는 기능 브랜치 환경 확인 지시
   - 'I'm Groot'와 같은 인수의 단일 따옴표는 이스케이프 구문 사용: 예: 'I'\''m Groot' (또는 가능하면 큰따옴표: "I'm Groot")

2. 현재 명세서 파일 로드. 이 분류법을 사용하여 구조화된 모호성 및 커버리지 스캔 수행. 각 카테고리에 대해 상태 표시: 명확함 / 부분적 / 누락. 우선순위 지정에 사용되는 내부 커버리지 맵 생성 (질문이 제기되지 않는 한 원시 맵 출력하지 않음).

   기능 범위 및 동작:
   - 핵심 사용자 목표 & 성공 기준
   - 명시적인 범위 외 선언
   - 사용자 역할 / 페르소나 차별화

   도메인 & 데이터 모델:
   - 엔티티, 속성, 관계
   - 식별 & 고유성 규칙
   - 수명 주기/상태 전이
   - 데이터 볼륨 / 규모 가정

   상호작용 & UX 흐름:
   - 중요한 사용자 여정 / 시퀀스
   - 오류/비어있음/로딩 상태
   - 접근성 또는 현지화 참고사항

   비기능적 품질 속성:
   - 성능 (지연, 처리량 목표)
   - 확장성 (수평/수직, 제한)
   - 신뢰성 & 가용성 (가동 시간, 복구 기대치)
   - 관찰 가능성 (로깅, 메트릭, 추적 신호)
   - 보안 & 개인정보 (인증/권한, 데이터 보호, 위협 가정)
   - 규정 준수 / 규제 제약조건 (있는 경우)

3. 후보 확인 질문의 우선순위 대기열 생성 (최대 5개). 모두 한 번에 출력하지 마세요. 다음 제약조건 적용:
    - 전체 세션에 걸쳐 최대 10개의 총 질문
    - 각 질문은 다음 중 하나로 답변 가능해야 함:
       - 짧은 다중 선택 (2-5개의 서로 다른, 상호 배타적인 옵션), 또는
       - 한 단어 / 짧은 구 답변 (명시적 제약: "5단어 이하로 답변")
    - 아키텍처, 데이터 모델링, 작업 분해, 테스트 설계, UX 동작, 운영 준비성 또는 규정 준수 검증에 중대한 영향을 미치는 질문만 포함
    - 카테고리 커버리지 균형 보장: 가장 영향력이 큰 미해결 카테고리를 먼저 다루려고 시도

4. 질문을 순차적으로 하나씩 제시하고 각 답변을 명세서에 통합한 후 다음 질문으로 진행

5. 모든 확인이 완료되면 업데이트된 명세서를 저장하고 요약 제공
