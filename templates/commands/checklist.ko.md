---
description: 사용자 요구사항을 기반으로 현재 기능에 대한 사용자 정의 체크리스트를 생성합니다.
scripts:
  sh: scripts/bash/check-prerequisites.sh --json
  ps: scripts/powershell/check-prerequisites.ps1 -Json
---

## 체크리스트 목적: "영어를 위한 단위 테스트"

**중요 개념**: 체크리스트는 **요구사항 작성을 위한 단위 테스트**입니다 - 주어진 도메인에서 요구사항의 품질, 명확성 및 완전성을 검증합니다.

**검증/테스트를 위한 것이 아님**:

- ❌ "버튼이 올바르게 클릭되는지 확인"이 아님
- ❌ "오류 처리가 작동하는지 테스트"가 아님
- ❌ "API가 200을 반환하는지 확인"이 아님
- ❌ 코드/구현이 명세서와 일치하는지 확인하는 것이 아님

**요구사항 품질 검증을 위함**:

- ✅ "모든 카드 유형에 대해 시각적 계층 요구사항이 정의되어 있습니까?" (완전성)
- ✅ "'눈에 띄는 표시'가 특정 크기/위치로 정량화되어 있습니까?" (명확성)
- ✅ "모든 대화형 요소에서 호버 상태 요구사항이 일관적입니까?" (일관성)
- ✅ "키보드 내비게이션에 대한 접근성 요구사항이 정의되어 있습니까?" (커버리지)
- ✅ "로고 이미지 로드 실패 시 어떻게 되는지 명세서에 정의되어 있습니까?" (예외 상황)

**비유**: 명세서가 영어로 작성된 코드라면, 체크리스트는 단위 테스트 스위트입니다. 구현이 작동하는지가 아니라 요구사항이 잘 작성되고 완전하며 모호하지 않고 구현 준비가 되었는지 테스트하는 것입니다.

## 사용자 입력

```text
$ARGUMENTS
```

진행하기 전에 사용자 입력을 **반드시** 고려해야 합니다 (비어있지 않은 경우).

## 실행 단계

1. **설정**: 저장소 루트에서 `{SCRIPT}` 실행 및 FEATURE_DIR 및 AVAILABLE_DOCS 목록에 대한 JSON 파싱.
   - 모든 파일 경로는 절대 경로여야 합니다.
   - 'I'm Groot'와 같은 인수의 단일 따옴표는 이스케이프 구문 사용: 예: 'I'\''m Groot' (또는 가능하면 큰따옴표: "I'm Groot")

2. **의도 명확화 (동적)**: 최대 3개의 초기 컨텍스트 명확화 질문 도출. 다음을 수행해야 합니다:
   - 사용자의 표현 + spec/plan/tasks에서 추출된 신호로부터 생성
   - 체크리스트 내용을 중대하게 변경하는 정보에 대해서만 질문
   - `$ARGUMENTS`에서 이미 명확한 경우 개별적으로 건너뜀
   - 폭보다 정밀도 선호

   생성 알고리즘:
   1. 신호 추출: 기능 도메인 키워드 (예: 인증, 지연, UX, API), 위험 지표 ("중요", "필수", "규정 준수"), 이해관계자 힌트 ("QA", "검토", "보안 팀") 및 명시적 결과물 ("a11y", "롤백", "계약")
   2. 신호를 관련성에 따라 순위가 매겨진 후보 초점 영역 (최대 4개)으로 클러스터링
   3. 명시적이지 않은 경우 가능한 청중 및 타이밍 (저자, 검토자, QA, 릴리스) 식별
   4. 누락된 차원 감지: 범위 폭, 깊이/엄격성, 위험 강조, 제외 경계, 측정 가능한 수락 기준

3. **사용자 요청 이해**: `$ARGUMENTS` + 명확화 답변 결합:
   - 체크리스트 테마 도출 (예: 보안, 검토, 배포, ux)
   - 사용자가 언급한 명시적 필수 항목 통합
   - 초점 선택을 카테고리 스캐폴딩에 매핑
   - spec/plan/tasks에서 누락된 컨텍스트 추론 (환각하지 마세요)

4. **기능 컨텍스트 로드**: FEATURE_DIR에서 읽기:
   - spec.md: 기능 요구사항 및 범위
   - plan.md (있는 경우): 기술 세부사항, 의존성
   - tasks.md (있는 경우): 구현 작업

5. **체크리스트 생성** - "요구사항을 위한 단위 테스트" 생성:
   - 존재하지 않으면 `FEATURE_DIR/checklists/` 디렉토리 생성
   - 고유한 체크리스트 파일명 생성:
     - 도메인을 기반으로 짧고 설명적인 이름 사용 (예: `ux.md`, `api.md`, `security.md`)
     - 형식: `[domain].md`
     - 파일이 있으면 기존 파일에 추가
   - CHK001부터 순차적으로 항목 번호 지정
   - 각 `/speckit.checklist` 실행은 새 파일 생성 (기존 체크리스트를 덮어쓰지 않음)

6. **체크리스트 구조**:
   - 템플릿 구조 사용 (`templates/checklist-template.md`)
   - 도메인별 카테고리로 항목 그룹화
   - 각 항목은 요구사항 품질을 검증하는 테스트 가능한 진술이어야 함
   - 완전성, 명확성, 일관성, 커버리지 측면에 집중

7. **보고**: 생성된 체크리스트 경로 및 요약 출력
   - 총 항목 수
   - 카테고리별 항목 분포
   - 사용 지침
